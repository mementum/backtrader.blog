<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Strategy with Signals &mdash; backtrader  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
    <script type="text/javascript" src="../../../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    <link rel="author" title="About these documents" href="../../../about/" />
    <link rel="top" title="backtrader  documentation" href="../../../" />
  
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.post-list-style-disc {list-style-type: disc;}
    ul.post-list-style-none {list-style-type: none;}
    ul.post-list-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="strategy-with-signals">
<h1>Strategy with Signals<a class="headerlink" href="#strategy-with-signals" title="Permalink to this headline">¶</a></h1>
<p>Operating <em>backtrader</em> is also possible without having to write a
<em>Strategy</em>. Although this is the preferred way, due to the object hierarchy
which makes up the machinery, using <em>Signals</em> is also possible.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Available from version <code class="docutils literal"><span class="pre">1.8.0.x</span></code></p>
</div>
<p>Quick summary:</p>
<blockquote>
<div><ul class="simple">
<li>Instead of writing a <em>Strategy</em> class, instantiating <em>Indicators</em>, writing
the <em>buy/sell</em> logic ...</li>
<li>The end user add <em>Signals</em> (indicators anyhow) and the rest is done in the
background</li>
</ul>
</div></blockquote>
<p>Quick example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">backtrader</span> <span class="kn">as</span> <span class="nn">bt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">feeds</span><span class="o">.</span><span class="n">OneOfTheFeeds</span><span class="p">(</span><span class="n">dataname</span><span class="o">=</span><span class="s1">&#39;mydataname&#39;</span><span class="p">)</span>
<span class="n">cerebro</span><span class="o">.</span><span class="n">adddata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">cerebro</span><span class="o">.</span><span class="n">add_signal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONGSHORT</span><span class="p">,</span> <span class="n">MySignal</span><span class="p">)</span>
<span class="n">cerebro</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Et voilá!.</p>
<p>Of course the <em>Signal</em> itself is missing. Let&#8217;s define a very dum <em>Signal</em>
which yields:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Long</span></code> indication if the <code class="docutils literal"><span class="pre">close</span></code> price is above a <em>Simple Moving
Average</em></li>
<li><code class="docutils literal"><span class="pre">Short</span></code> indication if the <code class="docutils literal"><span class="pre">close</span></code> price is below a <em>Simple Moving
Average</em></li>
</ul>
</div></blockquote>
<p>The definition:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MySignal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Indicator</span><span class="p">):</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;signal&#39;</span><span class="p">,)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;period&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">signal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">-</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">period</span><span class="p">)</span>
</pre></div>
</div>
<p>And now it is really done. When <code class="docutils literal"><span class="pre">run</span></code> is executed <em>Cerebro</em> will take care of
instantiating a special <em>Strategy</em> instance which knows what to do with the
<em>Signals</em>.</p>
<div class="section" id="initial-faq">
<h2>Initial <em>FAQ</em><a class="headerlink" href="#initial-faq" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">How is the volume of <em>buy</em>/<em>sell</em> operations determined?</p>
<p>A <em>cerebro</em> instance adds automatically a <code class="docutils literal"><span class="pre">FixedSize</span></code> sizer to
strategies. The end user can change the sizer to alter the policy with
<code class="docutils literal"><span class="pre">cerebro.addsizer</span></code></p>
</li>
<li><p class="first">How are orders executed?</p>
<p>The execution type is <code class="docutils literal"><span class="pre">Market</span></code> and the validity is <em>Good Until Canceled</em></p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="signals-technicalities">
<h2><em>Signals</em> technicalities<a class="headerlink" href="#signals-technicalities" title="Permalink to this headline">¶</a></h2>
<p>From a technical and theoretical point of view can be as described:</p>
<blockquote>
<div><ul>
<li><p class="first">A callable that returns another <em>object</em> when called (only once)</p>
<p>This is in most cases the instantiation of a class, but must not be</p>
</li>
<li><p class="first">Supports the <code class="docutils literal"><span class="pre">__getitem__</span></code> interface. The only requested <em>key</em>/<em>index</em>
will be <code class="docutils literal"><span class="pre">0</span></code></p>
</li>
</ul>
</div></blockquote>
<p>From a practical point of view and looking at the example above a <em>Signal</em> is:</p>
<blockquote>
<div><ul>
<li><p class="first">A <em>lines</em> object from the <em>backtrader</em> ecosystem, mostly an <em>Indicator</em></p>
<p>This helps when using other <em>Indicators</em> like when in the example the <em>Simple
Moving Average</em> is used.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="signals-indications">
<h2><em>Signals</em> indications<a class="headerlink" href="#signals-indications" title="Permalink to this headline">¶</a></h2>
<p>The <em>signals</em> delivers indications when queried with <code class="docutils literal"><span class="pre">signal[0]</span></code> and the
meaning is:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">&gt;</span> <span class="pre">0</span></code> -&gt; <code class="docutils literal"><span class="pre">long</span> <span class="pre">indication</span></code></li>
<li><code class="docutils literal"><span class="pre">´&lt;</span> <span class="pre">0</span></code> -&gt; <code class="docutils literal"><span class="pre">short</span> <span class="pre">indication</span></code></li>
<li><code class="docutils literal"><span class="pre">´==</span> <span class="pre">0</span></code> -&gt; <em>No indication</em></li>
</ul>
</div></blockquote>
<p>The example does simple arithmetic with <code class="docutils literal"><span class="pre">self.data</span> <span class="pre">-</span> <span class="pre">SMA</span></code> and:</p>
<blockquote>
<div><ul class="simple">
<li>Issues a <code class="docutils literal"><span class="pre">long</span> <span class="pre">indication</span></code> when the <code class="docutils literal"><span class="pre">data</span></code> is above the <code class="docutils literal"><span class="pre">SMA</span></code></li>
<li>Issues a <code class="docutils literal"><span class="pre">short</span> <span class="pre">indication</span></code> when the <code class="docutils literal"><span class="pre">data</span></code> is below the <code class="docutils literal"><span class="pre">SMA</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When no specific price field is indicated for the <code class="docutils literal"><span class="pre">data</span></code>, the
<code class="docutils literal"><span class="pre">close</span></code> price is the reference price is.</p>
</div>
</div>
<div class="section" id="signals-types">
<h2><em>Signals</em> Types<a class="headerlink" href="#signals-types" title="Permalink to this headline">¶</a></h2>
<p>The <em>constants</em> indicated below as seen in the example above, are directly
available from the main <em>bactrader</em> module as in:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">backtrader</span> <span class="kn">as</span> <span class="nn">bt</span>

<span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONG</span>
</pre></div>
</div>
<p>There are 5 types of <em>Signals</em>, broken in 2 groups.</p>
<p><strong>Main Group</strong>:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">LONGSHORT</span></code>: both <code class="docutils literal"><span class="pre">long</span></code> and <code class="docutils literal"><span class="pre">short</span></code> indications from this signal
are taken</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">LONG</span></code>:
- <code class="docutils literal"><span class="pre">long</span></code> indications are taken to go long
- <code class="docutils literal"><span class="pre">short</span></code> indications are taken to <em>close</em> the long position. But:</p>
<blockquote>
<div><ul class="simple">
<li>If a <code class="docutils literal"><span class="pre">LONGEXIT</span></code> (see below) signal is in the system it will be
used to exit the long</li>
<li>If a <code class="docutils literal"><span class="pre">SHORT</span></code> signal is available and no <code class="docutils literal"><span class="pre">LONGEXIT</span></code> is available
, it will be used to close a <code class="docutils literal"><span class="pre">long</span></code> before opening a <code class="docutils literal"><span class="pre">short</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">SHORT</span></code>:
- <code class="docutils literal"><span class="pre">short</span></code> indications are taken to go short
- <code class="docutils literal"><span class="pre">long</span></code> indications are taken to <em>close</em> the short position. But:</p>
<blockquote>
<div><ul class="simple">
<li>If a <code class="docutils literal"><span class="pre">SHORTEXIT</span></code> (see below) signal is in the system it will be
used to exit the short</li>
<li>If a <code class="docutils literal"><span class="pre">LONG</span></code> signal is available and no <code class="docutils literal"><span class="pre">SHORTEXIT</span></code> is available
, it will be used to close a <code class="docutils literal"><span class="pre">short</span></code> before opening a <code class="docutils literal"><span class="pre">long</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p><strong>Exit Group</strong>:</p>
<blockquote>
<div><p>This 2 signals are meant to override others and provide criteria for
exitins a <code class="docutils literal"><span class="pre">long</span></code>/<code class="docutils literal"><span class="pre">short</span></code> position</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">LONGEXIT</span></code>: <code class="docutils literal"><span class="pre">short</span></code> indications are taken to exit <code class="docutils literal"><span class="pre">long</span></code>
positions</li>
<li><code class="docutils literal"><span class="pre">SHORTEXIT</span></code>: <code class="docutils literal"><span class="pre">long</span></code> indications are taken to exit <code class="docutils literal"><span class="pre">short</span></code>
positions</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="accumulation-and-order-concurrency">
<h2>Accumulation and Order Concurrency<a class="headerlink" href="#accumulation-and-order-concurrency" title="Permalink to this headline">¶</a></h2>
<p>The sample <em>Signal</em> shown above will issue <em>long</em> and <em>short</em> indications on a
constant basis, because it simply substracts the <code class="docutils literal"><span class="pre">SMA</span></code> value from the
<code class="docutils literal"><span class="pre">close</span></code> price and this will always be either <code class="docutils literal"><span class="pre">&gt;</span> <span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">&lt;</span> <span class="pre">0</span></code> (a couple of
times <code class="docutils literal"><span class="pre">==</span> <span class="pre">0</span></code>)</p>
<p>This would lead to a continuous generation of <em>orders</em> that would produce 2
situations:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Accumulation</span></code>: even if already in the market, the <em>signals</em> would
produce new orders which would increase the possition in the market</li>
<li><code class="docutils literal"><span class="pre">Concurrency</span></code>: new orders would be generated without waiting for the
execution of other orders</li>
</ul>
</div></blockquote>
<p>To avoid this the default behavior is:</p>
<blockquote>
<div><ul class="simple">
<li><em>To Not Accumulate</em></li>
<li><em>To Not allow Concurrency</em></li>
</ul>
</div></blockquote>
<p>Should any of these two behaviors be wished, this can be controlled via
<code class="docutils literal"><span class="pre">cerebro</span></code> with:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">cerebro.signal_accumulate(True)</span></code> (or <code class="docutils literal"><span class="pre">False</span></code> to re-disable it)</li>
<li><code class="docutils literal"><span class="pre">cerebro.signal_concurrency(True)</span></code> (or <code class="docutils literal"><span class="pre">False</span></code> to re-disable it)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="the-sample">
<h2>The sample<a class="headerlink" href="#the-sample" title="Permalink to this headline">¶</a></h2>
<p>The <em>backtrader</em> sources contain a sample to test the functionality.</p>
<p>Main signal to be used.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SMACloseSignal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Indicator</span><span class="p">):</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;signal&#39;</span><span class="p">,)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;period&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">signal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">-</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">period</span><span class="p">)</span>

</pre></div>
</div>
<p>And the <em>Exit Signal</em> in case the option is specified.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SMAExitSignal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Indicator</span><span class="p">):</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;signal&#39;</span><span class="p">,)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;p2&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sma1</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
        <span class="n">sma2</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">signal</span> <span class="o">=</span> <span class="n">sma1</span> <span class="o">-</span> <span class="n">sma2</span>

</pre></div>
</div>
<div class="section" id="first-run-long-and-short">
<h3>First run: long and short<a class="headerlink" href="#first-run-long-and-short" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ ./signals-strategy.py --plot --signal longshort
</pre></div>
</div>
<p>The output</p>
<a class=""
               data-lightbox="group-5b6733ae-f3f6-46c4-840c-f8f69c9a1019"
               href="../../../_images/signal-longshort1.png"
               title=""
               data-title=""
               ><img src="../../../_images/signal-longshort1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>To notice:</p>
<blockquote>
<div><ul class="simple">
<li>The <em>Signal</em> is plotted. This is normal given it is simply an indicator and
the plotting rules for it apply</li>
<li>The strategy is really <code class="docutils literal"><span class="pre">long</span></code> and <code class="docutils literal"><span class="pre">short</span></code>. This can be seen because the
<em>cash</em> level never goes back to be the <em>value</em> level</li>
<li>Side note: even for a dumb idea ... (and without commission) the strategy
hasn&#8217;t lost money ...</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="second-run-long-only">
<h3>Second run: long only<a class="headerlink" href="#second-run-long-only" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ ./signals-strategy.py --plot --signal longonly
</pre></div>
</div>
<p>The output</p>
<a class=""
               data-lightbox="group-1a5866a8-7bae-4b9c-9878-a6fd54b8b803"
               href="../../../_images/signal-longonly1.png"
               title=""
               data-title=""
               ><img src="../../../_images/signal-longonly1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>To notice:</p>
<blockquote>
<div><ul class="simple">
<li>Here the cash level goes back to be the <em>value</em> level after each <em>sell</em>,
which means the strategy is out of the market</li>
<li>Side note: Again no money has been lost ...</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="third-run-short-only">
<h3>Third run: short only<a class="headerlink" href="#third-run-short-only" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ ./signals-strategy.py --plot --signal shortonly
</pre></div>
</div>
<p>The output</p>
<a class=""
               data-lightbox="group-d1e6a938-23c0-4473-85fa-d462cfffea7b"
               href="../../../_images/signal-shortonly1.png"
               title=""
               data-title=""
               ><img src="../../../_images/signal-shortonly1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>To notice:</p>
<blockquote>
<div><ul class="simple">
<li>The 1st operation is a <em>sell</em> as expected and takes place later than the
1st operationa in the 2 examples above. Not until the <code class="docutils literal"><span class="pre">close</span></code> is below
the <code class="docutils literal"><span class="pre">SMA</span></code> and the simple substraction yields a minus</li>
<li>Here the cash level goes back to be the <em>value</em> level after each <em>buy</em>,
which means the strategy is out of the market</li>
<li>Side note: Finally the system loses money</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="fourth-run-long-longexit">
<h3>Fourth run: long + longexit<a class="headerlink" href="#fourth-run-long-longexit" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ ./signals-strategy.py --plot --signal longonly --exitsignal longexit
</pre></div>
</div>
<p>The output</p>
<a class=""
               data-lightbox="group-915b02a7-a079-44f6-927d-e9d0e5cc31f4"
               href="../../../_images/signal-long-longexit1.png"
               title=""
               data-title=""
               ><img src="../../../_images/signal-long-longexit1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p>To notice:</p>
<blockquote>
<div><ul class="simple">
<li>Many of the trades are the same, but some are interrupted earlier because
the fast movin average in the <em>exit</em> signal crosses the slow moving average
to the downside</li>
<li>The system shows its <em>longonly</em> property with the cash becoming the value
at the end of each trade</li>
<li>Side note: Again money ... even with some modified trades</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>$ ./signals-strategy.py --help
usage: signals-strategy.py [-h] [--data DATA] [--fromdate FROMDATE]
                           [--todate TODATE] [--cash CASH]
                           [--smaperiod SMAPERIOD] [--exitperiod EXITPERIOD]
                           [--signal {longshort,longonly,shortonly}]
                           [--exitsignal {longexit,shortexit}]
                           [--plot [kwargs]]

Sample for Signal concepts

optional arguments:
  -h, --help            show this help message and exit
  --data DATA           Specific data to be read in (default:
                        ../../datas/2005-2006-day-001.txt)
  --fromdate FROMDATE   Starting date in YYYY-MM-DD format (default: None)
  --todate TODATE       Ending date in YYYY-MM-DD format (default: None)
  --cash CASH           Cash to start with (default: 50000)
  --smaperiod SMAPERIOD
                        Period for the moving average (default: 30)
  --exitperiod EXITPERIOD
                        Period for the exit control SMA (default: 5)
  --signal {longshort,longonly,shortonly}
                        Signal type to use for the main signal (default:
                        longshort)
  --exitsignal {longexit,shortexit}
                        Signal type to use for the exit signal (default: None)
  --plot [kwargs], -p [kwargs]
                        Plot the read data applying any kwargs passed For
                        example: --plot style=&quot;candle&quot; (to plot candles)
                        (default: None)
</pre></div>
</div>
</div>
<div class="section" id="the-code">
<h3>The code<a class="headerlink" href="#the-code" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="p">(</span><span class="n">absolute_import</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span>
                        <span class="n">unicode_literals</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">import</span> <span class="nn">backtrader</span> <span class="kn">as</span> <span class="nn">bt</span>

<span class="n">MAINSIGNALS</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">(</span>
    <span class="p">((</span><span class="s1">&#39;longshort&#39;</span><span class="p">,</span> <span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONGSHORT</span><span class="p">),</span>
     <span class="p">(</span><span class="s1">&#39;longonly&#39;</span><span class="p">,</span> <span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONG</span><span class="p">),</span>
     <span class="p">(</span><span class="s1">&#39;shortonly&#39;</span><span class="p">,</span> <span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_SHORT</span><span class="p">),)</span>
<span class="p">)</span>


<span class="n">EXITSIGNALS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;longexit&#39;</span><span class="p">:</span> <span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONGEXIT</span><span class="p">,</span>
    <span class="s1">&#39;shortexit&#39;</span><span class="p">:</span> <span class="n">bt</span><span class="o">.</span><span class="n">SIGNAL_LONGEXIT</span><span class="p">,</span>
<span class="p">}</span>


<span class="k">class</span> <span class="nc">SMACloseSignal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Indicator</span><span class="p">):</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;signal&#39;</span><span class="p">,)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;period&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">signal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">-</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">period</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">SMAExitSignal</span><span class="p">(</span><span class="n">bt</span><span class="o">.</span><span class="n">Indicator</span><span class="p">):</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;signal&#39;</span><span class="p">,)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;p2&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">),)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sma1</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
        <span class="n">sma2</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">indicators</span><span class="o">.</span><span class="n">SMA</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">signal</span> <span class="o">=</span> <span class="n">sma1</span> <span class="o">-</span> <span class="n">sma2</span>


<span class="k">def</span> <span class="nf">runstrat</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="n">cerebro</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">Cerebro</span><span class="p">()</span>
    <span class="n">cerebro</span><span class="o">.</span><span class="n">broker</span><span class="o">.</span><span class="n">set_cash</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">cash</span><span class="p">)</span>

    <span class="n">dkwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">fromdate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">fromdate</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">fromdate</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">dkwargs</span><span class="p">[</span><span class="s1">&#39;fromdate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fromdate</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">todate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">todate</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">todate</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">dkwargs</span><span class="p">[</span><span class="s1">&#39;todate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">todate</span>

    <span class="c1"># if dataset is None, args.data has been given</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">bt</span><span class="o">.</span><span class="n">feeds</span><span class="o">.</span><span class="n">BacktraderCSVData</span><span class="p">(</span><span class="n">dataname</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">dkwargs</span><span class="p">)</span>
    <span class="n">cerebro</span><span class="o">.</span><span class="n">adddata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="n">cerebro</span><span class="o">.</span><span class="n">add_signal</span><span class="p">(</span><span class="n">MAINSIGNALS</span><span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">signal</span><span class="p">],</span>
                       <span class="n">SMACloseSignal</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">smaperiod</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">exitsignal</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cerebro</span><span class="o">.</span><span class="n">add_signal</span><span class="p">(</span><span class="n">EXITSIGNALS</span><span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">exitsignal</span><span class="p">],</span>
                           <span class="n">SMAExitSignal</span><span class="p">,</span>
                           <span class="n">p1</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">exitperiod</span><span class="p">,</span>
                           <span class="n">p2</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">smaperiod</span><span class="p">)</span>

    <span class="n">cerebro</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">plot</span><span class="p">:</span>
        <span class="n">pkwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">plot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">True</span><span class="p">:</span>  <span class="c1"># evals to True but is not True</span>
            <span class="n">npkwargs</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;dict(&#39;</span> <span class="o">+</span> <span class="n">args</span><span class="o">.</span><span class="n">plot</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">)</span>  <span class="c1"># args were passed</span>
            <span class="n">pkwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">npkwargs</span><span class="p">)</span>

        <span class="n">cerebro</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">**</span><span class="n">pkwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="n">pargs</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>

    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentDefaultsHelpFormatter</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Sample for Signal concepts&#39;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--data&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="n">default</span><span class="o">=</span><span class="s1">&#39;../../datas/2005-2006-day-001.txt&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Specific data to be read in&#39;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--fromdate&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Starting date in YYYY-MM-DD format&#39;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--todate&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Ending date in YYYY-MM-DD format&#39;</span><span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--cash&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Cash to start with&#39;</span><span class="p">))</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--smaperiod&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Period for the moving average&#39;</span><span class="p">))</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--exitperiod&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Period for the exit control SMA&#39;</span><span class="p">))</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--signal&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                        <span class="n">default</span><span class="o">=</span><span class="n">MAINSIGNALS</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">choices</span><span class="o">=</span><span class="n">MAINSIGNALS</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Signal type to use for the main signal&#39;</span><span class="p">))</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--exitsignal&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                        <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="n">EXITSIGNALS</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Signal type to use for the exit signal&#39;</span><span class="p">))</span>

    <span class="c1"># Plot options</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--plot&#39;</span><span class="p">,</span> <span class="s1">&#39;-p&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;kwargs&#39;</span><span class="p">,</span> <span class="n">const</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Plot the read data applying any kwargs passed</span><span class="se">\n</span><span class="s1">&#39;</span>
                              <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                              <span class="s1">&#39;For example:</span><span class="se">\n</span><span class="s1">&#39;</span>
                              <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
                              <span class="s1">&#39;  --plot style=&quot;candle&quot; (to plot candles)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">pargs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">pargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">runstrat</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  
  <a href="../../2016-07-30-macd-settings/macd-settings/">
    <i class="fa fa-arrow-circle-left"></i>
    MACD Settings
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
  
  <a href="../../2016-08-15-stock-screening/stock-screening/">
    Stock Screening
    <i class="fa fa-arrow-circle-right"></i>
  </a>
  </span>
  
</div>

  
  
    <div class="section">
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'backtrader'; // required: replace example with your forum shortname
        var disqus_identifier = '/posts/2016-08-01-signal-strategy/signal-strategy/';
        var disqus_title = 'Strategy with Signals';
        var disqus_url = 'http://www.backtrader.com/posts/2016-08-01-signal-strategy/signal-strategy';
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../">backtrader</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=mementum&repo=backtrader&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




    

<p>
<a href="https://travis-ci.org/mementum/backtrader">
    <img
        alt="https://secure.travis-ci.org/mementum/backtrader.png?branch=master"
        src="https://secure.travis-ci.org/mementum/backtrader.png?branch=master"
    />
</a>
</p>



  
  
  <h2>
  
  <i class="fa fa-calendar"></i>
    Aug 01, 2016
  
  </h2>

  <ul>
    

  
  <li><i class="fa-fw fa fa-user"></i>
    
      
      <a href="../../../blog/author/mementum/">mementum</a>
      
    </li>
  

  

  

  

  
  
  <li>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'backtrader'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
    <i class="fa-fw fa fa-comments"></i>
    <a href="#disqus_thread" data-disqus-identifier="/posts/2016-08-01-signal-strategy/signal-strategy/"> </a>
  </li>
  
  </ul>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/">About backtrader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about/#documentation">Documentation</a></li>
</ul>


  <h3><a href="../../../blog/">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../../2016-09-02-target-orders/target-orders/">Sep 02 - Target Orders</a></li>
    
      <li><a href="../../2016-08-31-rolling-over-futures/rolling-futures-over/">Aug 31 - Rolling over Futures</a></li>
    
      <li><a href="../../2016-08-22-credit-interest/credit-interest/">Aug 22 - Credit Interest</a></li>
    
      <li><a href="../../2016-08-18-dickson-moving-average/dickson-moving-average/">Aug 17 - Dickson Moving Average</a></li>
    
      <li><a href="../../2016-08-15-stock-screening/stock-screening/">Aug 15 - Stock Screening</a></li>
    
  </ul>

  <h3><a href="../../../blog/archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../../blog/2016/">2016 (24)</a></li>
    
  
    
    <li><a href="../../../blog/2015/">2015 (27)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, mementum.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../../../_sources/posts/2016-08-01-signal-strategy/signal-strategy.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/mementum/backtrader" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2435868-6']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>